using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Tilemaps;

public class PlantSeed : MonoBehaviour
{
    public Tilemap tilemap;
    public PlantManager plantManager;
    public InventoryManager inventory;

    private void Start()
    {
        plantManager = PlantManager.Instance;
        if (plantManager == null)
        {
            Debug.LogError("PlantManager instance not found.");
        }
    }

    public void PlantSeedOnTile(int number)
    {
        Vector3 mousePosition = Camera.main.ScreenToWorldPoint(Input.mousePosition);
        mousePosition.z = 0;
        Vector3Int cellPosition = tilemap.WorldToCell(mousePosition);
        TileBase clickedTile = tilemap.GetTile(cellPosition);
        
        // Access plant data from PlantManager
        if (plantManager != null && plantManager.plantSprites.ContainsKey(number) && plantManager.plantTiles.ContainsKey(number))
        {
            Debug.Log("player interacted with tile");
            // Change the tile to its respective planted seed tile based on the selected plant
            tilemap.SetTile(cellPosition, plantManager.plantTiles[number]);
        }
        
        else
        {
            Debug.LogWarning("Plant data not found for the specified plant number.");
        }
    }
}
